{"version":3,"sources":["ui-components/Button/index.js","components/actions/buttons/FileButton.js","helpers/ffmpeg.helper.js","helpers/status.helper.js","store/status.js","components/actions/buttons/ConvertButton.js","components/actions/buttons/DownloadButton.js","components/actions/buttons/CancelButton.js","components/actions/Index.js","ui-components/Input/index.js","components/Form/index.js","components/File/index.js","App.js","store/index.js","index.js"],"names":["Button","props","className","theme","disabled","onClick","event","children","FileButton","currentStep","currentStepNumber","selectButtonTheme","selectButtonText","type","accept","onChange","file","target","files","includes","onSetFile","FileReader","reader","readAsDataURL","onload","e","onSetFileImageBase64","result","alert","onSetFileVideoUrl","onChangeFile","doTranscode","a","form","setStatus","fileExtension","exec","name","ffmpeg","createFFmpeg","width","height","duration","Error","message","rules","load","write","firstPart","secondPart","run","data","read","fileVideoUrl","URL","createObjectURL","Blob","buffer","error","counterSlice","createSlice","initialState","convertingStatus","isConverting","reducers","setConvertingStatus","state","action","payload","setIsConverting","actions","ConvertButton","dispatch","useDispatch","handleTranscode","status","DownloadButton","fileVideoName","replace","link","document","createElement","download","href","body","appendChild","click","removeChild","downloadVideo","CancelButton","window","confirm","onCancel","Actions","handleOuterState","value","onKeyPress","keyCode","which","preventDefault","onlyNumber","onChangeFull","File","Input","currentFile","fileImageBase64","title","htmlContent","src","alt","controls","Loader","useSelector","useState","secLeft","setSecLeft","startSec","setStartSec","useEffect","Date","timer","setInterval","Math","round","clearInterval","App","setFile","setFileImageBase64","setFileVideoUrl","setForm","number","icons","Form","newForm","style","configureStore","reducer","statusReducer","ReactDOM","render","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.5367f145.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.scss\";\n\nconst Button = (props) => {\n  const handleClick = (event) => {\n    if (props.onClick) {\n      props.onClick(event);\n    }\n  };\n\n  return (\n    <button\n      className={`ui-button ${props.theme || \"primary\"}`}\n      disabled={props.disabled}\n      onClick={handleClick}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nButton.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  theme: PropTypes.oneOf([\"primary\", \"primary-animated\", \"gray\"]),\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Button from \"@ui-components/Button\";\n\nconst FileButton = (props) => {\n  const currentStep = (() => {\n    switch (props.currentStepNumber) {\n      // Is the file not selected\n      case 1:\n        return {\n          selectButtonTheme: \"primary-animated\",\n          selectButtonText: \"Select image\",\n        };\n      // Is the file selected, but not converted\n      case 2:\n        return {\n          selectButtonTheme: \"gray\",\n          selectButtonText: \"Change image\",\n        };\n      // Is the file selected and converted\n      case 3:\n        return {\n          selectButtonTheme: \"gray\",\n          selectButtonText: \"Select other image\",\n        };\n      // other\n      default:\n        return {\n          selectButtonTheme: \"gray\",\n          selectButtonText: \"Select image\",\n        };\n    }\n  })();\n\n  /**\n   * Select/change image file\n   */\n  const onChangeFile = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    if ([\"image/gif\", \"image/jpeg\", \"image/jpg\", \"image/png\"].includes(file.type)) {\n      props.onSetFile(file);\n\n      if (FileReader) {\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onload = (e) => {\n          props.onSetFileImageBase64(e.target.result);\n        };\n      } else {\n        alert(\"ðŸ¤• Not supported in your browser:(\");\n      }\n\n      props.onSetFileVideoUrl(null);\n    } else {\n      alert(\"ðŸ¤§ You selected not an image!\");\n    }\n  };\n\n  return (\n    <div>\n      <Button theme={currentStep.selectButtonTheme}>\n        <div className=\"buttons-header__item\">\n          <input type=\"file\" accept=\"image/*\" onChange={(event) => onChangeFile(event)} />\n          <span>{currentStep.selectButtonText}</span>\n        </div>\n      </Button>{\" \"}\n    </div>\n  );\n};\n\nFileButton.propTypes = {\n  currentStepNumber: PropTypes.number,\n  onSetFile: PropTypes.func,\n  onSetFileVideoUrl: PropTypes.func,\n  onSetFileImageBase64: PropTypes.func,\n};\n\nexport default FileButton;\n","import { createFFmpeg } from \"@ffmpeg/ffmpeg\";\nimport { STATUS_PREPARING, STATUS_CONVERTING, STATUS_LOADING } from \"@helpers/status.helper\";\n\n/**\n *\n * @param {Object} form\n * @param {*} file\n * @param {Function} setStatus\n * @returns {Object} { error?, fileVideoUrl? }\n */\nexport const doTranscode = async ({ form, file, setStatus }) => {\n  try {\n    const re = /(?:\\.([^.]+))?$/;\n    const fileExtension = re.exec(file.name)[1];\n    const ffmpeg = createFFmpeg();\n\n    setStatus(STATUS_PREPARING);\n\n    if (!form.width || !form.height || !form.duration) {\n      throw Error({ message: \"you set up the form incorrectly:(\" });\n    }\n\n    const MAX_HEIGHT = 5000;\n    const MAX_WIDTH = 5000;\n    const MAX_DURATION = 60;\n\n    if (form.height > MAX_HEIGHT || form.width > MAX_WIDTH || form.duration > MAX_DURATION) {\n      const rules = `max: w - ${MAX_WIDTH}, h - ${MAX_HEIGHT}, d - ${MAX_DURATION}`;\n      throw Error({\n        message: `too big parameters, the application will crash... (${rules})`,\n      });\n    }\n\n    await ffmpeg.load();\n    await ffmpeg.write(`input.${fileExtension}`, file);\n\n    setStatus(STATUS_CONVERTING);\n\n    const firstPart = `-loop 1 -r 30 -i \"input.${fileExtension}\" -t ${form.duration}`;\n    const secondPart = `-vf \"scale=${form.width}:${form.height},format=yuv420p\" -codec:v libx264 output.mp4`;\n    await ffmpeg.run(`${firstPart} ${secondPart}`);\n\n    setStatus(STATUS_LOADING);\n\n    const data = ffmpeg.read(\"output.mp4\");\n    const fileVideoUrl = URL.createObjectURL(new Blob([data.buffer], { type: \"video/mp4\" }));\n\n    return { fileVideoUrl };\n  } catch (error) {\n    return { error };\n  }\n};\n","export const STATUS_DOING = \"doing\";\nexport const STATUS_PREPARING = \"preparing\";\nexport const STATUS_CONVERTING = \"converting\";\nexport const STATUS_LOADING = \"loading\";\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const counterSlice = createSlice({\n  name: \"counter\",\n\n  initialState: {\n    // What to write in the loading plate\n    convertingStatus: \"\",\n    // Is button \"Convert\" pressed?\n    isConverting: false,\n  },\n\n  reducers: {\n    setConvertingStatus: (state, action) => {\n      state.convertingStatus = action.payload;\n    },\n\n    setIsConverting: (state, action) => {\n      state.isConverting = action.payload;\n    },\n  },\n});\n\nexport const { setConvertingStatus, setIsConverting } = counterSlice.actions;\n\nexport default counterSlice.reducer;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { doTranscode } from \"@helpers/ffmpeg.helper\";\nimport { STATUS_DOING } from \"@helpers/status.helper\";\n\nimport { useDispatch } from \"react-redux\";\nimport { setConvertingStatus, setIsConverting } from \"@store/status\";\n\nimport Button from \"@ui-components/Button\";\n\nconst ConvertButton = (props) => {\n  const dispatch = useDispatch();\n\n  const handleTranscode = async () => {\n    dispatch(setConvertingStatus(STATUS_DOING));\n    dispatch(setIsConverting(true));\n\n    const data = {\n      form: props.form,\n      file: props.file,\n      setStatus: (status) => dispatch(setConvertingStatus(status)),\n    };\n\n    const result = await doTranscode(data);\n\n    if (result.error) {\n      alert(\"ðŸ¥´ Error: \" + result.error.message);\n    } else {\n      props.onSetFileVideoUrl(result.fileVideoUrl);\n    }\n\n    dispatch(setConvertingStatus(STATUS_DOING));\n    dispatch(setIsConverting(false));\n  };\n\n  return (\n    <div className=\"buttons-header__item-wrapper\">\n      <Button onClick={() => handleTranscode()}>Convert</Button>\n    </div>\n  );\n};\n\nConvertButton.propTypes = {\n  file: PropTypes.object,\n  form: PropTypes.object,\n  onSetFileVideoUrl: PropTypes.func,\n};\n\nexport default ConvertButton;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Button from \"@ui-components/Button\";\n\nconst DownloadButton = (props) => {\n  const downloadVideo = () => {\n    try {\n      const re = /(?:\\.([^.]+))?$/;\n      const nameWithoutExtension = props.file.name.replace(re, \"\");\n      const fileVideoName = nameWithoutExtension + \".mp4\";\n\n      const link = document.createElement(\"a\");\n      link.download = fileVideoName;\n      link.href = props.fileVideoUrl;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      // delete link;\n    } catch (error) {\n      alert(\"ðŸ¥´ Error: \" + error.message);\n    }\n  };\n\n  return (\n    <div className=\"buttons-header__item-wrapper download\">\n      <Button theme=\"primary-animated\" onClick={() => downloadVideo()}>\n        Download video\n      </Button>\n    </div>\n  );\n};\n\nDownloadButton.propTypes = {\n  file: PropTypes.object,\n  fileVideoUrl: PropTypes.string,\n};\n\nexport default DownloadButton;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Button from \"@ui-components/Button\";\n\nconst CancelButton = (props) => {\n  const deleteVideoFile = () => {\n    if (\n      window.confirm(\"Are you sure you want to delete this video file and go to previous step?\")\n    ) {\n      props.onCancel();\n    }\n  };\n\n  return (\n    <div className=\"buttons-header__item-wrapper\">\n      <Button theme=\"gray\" onClick={() => deleteVideoFile()}>\n        Set other parameters\n      </Button>\n    </div>\n  );\n};\n\nCancelButton.propTypes = {\n  onCancel: PropTypes.func,\n};\n\nexport default CancelButton;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./styles.scss\";\n\nimport FileButton from \"./buttons/FileButton\";\nimport ConvertButton from \"./buttons/ConvertButton\";\nimport DownloadButton from \"./buttons/DownloadButton\";\nimport CancelButton from \"./buttons/CancelButton\";\n\nconst Actions = (props) => {\n  return (\n    <div className=\"buttons-header\">\n      <div\n        className={`buttons-header__item-wrapper ${\n          props.currentStepNumber > 1 ? \"\" : \"not-selected\"\n        }`}\n      >\n        <FileButton\n          currentStepNumber={props.currentStepNumber}\n          handleOuterState={props.handleOuterState}\n          onSetFile={props.onSetFile}\n          onSetFileVideoUrl={props.onSetFileVideoUrl}\n          onSetFileImageBase64={props.onSetFileImageBase64}\n        />\n      </div>\n\n      {props.currentStepNumber === 2 && (\n        <ConvertButton\n          file={props.file}\n          form={props.form}\n          onSetFileVideoUrl={props.onSetFileVideoUrl}\n        />\n      )}\n\n      {props.currentStepNumber === 3 && <CancelButton onCancel={props.onCancel} />}\n\n      {props.currentStepNumber === 3 && (\n        <DownloadButton file={props.file} fileVideoUrl={props.fileVideoUrl} />\n      )}\n    </div>\n  );\n};\n\nActions.propTypes = {\n  file: PropTypes.object,\n  currentStepNumber: PropTypes.number,\n  fileVideoUrl: PropTypes.string,\n  form: PropTypes.object,\n  onCancel: PropTypes.func,\n  onSetFile: PropTypes.func,\n  onSetFileVideoUrl: PropTypes.func,\n  onSetFileImageBase64: PropTypes.func,\n  handleOuterState: PropTypes.func,\n};\n\nexport default Actions;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.scss\";\n\nconst Button = (props) => {\n  const onlyNumber = (event) => {\n    let keyCode = event.keyCode ? event.keyCode : event.which;\n    if ((keyCode < 48 || keyCode > 57) && keyCode !== 46) {\n      // 46 is dot\n      event.preventDefault();\n    }\n  };\n\n  const handleChange = (event) => {\n    if (props.onChange) {\n      props.onChange(event.target.value);\n    }\n\n    if (props.onChangeFull) {\n      props.onChangeFull(event);\n    }\n  };\n\n  return (\n    <input\n      className=\"ui-input\"\n      type={props.type}\n      value={props.value}\n      onKeyPress={(event) => (props.type === \"number\" ? onlyNumber(event) : null)}\n      onChange={handleChange}\n    />\n  );\n};\n\nButton.propTypes = {\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  onChangeFull: PropTypes.func,\n};\n\nexport default Button;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./styles.scss\";\n\nimport Input from \"@ui-components/Input\";\n\nconst File = (props) => {\n  return (\n    <div className=\"form\">\n      <div className=\"form__item\">\n        <span className=\"form__label\">Width (pixel):</span>\n        <Input\n          type=\"number\"\n          value={props.form.width}\n          onChange={(value) => props.onChange({ width: value })}\n        />\n      </div>\n\n      <div className=\"form__item\">\n        <span className=\"form__label\">Height (pixel):</span>\n        <Input\n          type=\"number\"\n          value={props.form.height}\n          onChange={(value) => props.onChange({ height: value })}\n        />\n      </div>\n\n      <div className=\"form__item\">\n        <span className=\"form__label\">Duration (sec):</span>\n        <Input\n          type=\"number\"\n          value={props.form.duration}\n          onChange={(value) => props.onChange({ duration: value })}\n        />\n      </div>\n    </div>\n  );\n};\n\nFile.propTypes = {\n  form: PropTypes.object,\n  onChange: PropTypes.func,\n};\n\nexport default File;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"./styles.scss\";\n\nconst File = (props) => {\n  const currentFile = (() => {\n    switch (true) {\n      // Image\n      case !!props.fileImageBase64 && !props.fileVideoUrl:\n        return {\n          type: \"Image\",\n          title: props.file.name,\n          htmlContent: <img className=\"file__content\" src={props.fileImageBase64} alt=\"Loaded\" />,\n        };\n\n      // Video\n      case !!props.fileImageBase64 && !!props.fileVideoUrl:\n        return (() => {\n          const re = /(?:\\.([^.]+))?$/;\n          const nameWithoutExtension = props.file.name.replace(re, \"\");\n          const fileVideoName = nameWithoutExtension + \".mp4\";\n\n          return {\n            type: \"Video\",\n            title: fileVideoName,\n            htmlContent: (\n              <video className=\"file__content\" controls>\n                <source src={props.fileVideoUrl} type=\"video/mp4\" />\n              </video>\n            ),\n          };\n        })();\n\n      // other\n      default:\n        return {\n          type: \"\",\n          title: \"\",\n          htmlContent: null,\n        };\n    }\n  })();\n\n  return (\n    <div className=\"file-wrapper\">\n      <div className=\"file__type\">{currentFile.type}</div>\n\n      <div className=\"file\">\n        <div className=\"file__title\">{currentFile.title}</div>\n        {currentFile.htmlContent}\n      </div>\n    </div>\n  );\n};\n\nFile.propTypes = {\n  file: PropTypes.object,\n  fileImageBase64: PropTypes.string,\n  fileVideoUrl: PropTypes.string,\n};\n\nexport default File;\n","import React, { useEffect, useState } from \"react\";\nimport \"regenerator-runtime/runtime.js\";\n// import { YMInitializer } from \"react-yandex-metrika\";\nimport \"./App.scss\";\nimport { useSelector } from \"react-redux\";\n\nimport Actions from \"@components/actions/Index\";\nimport Form from \"@components/Form\";\nimport File from \"@components/File\";\n\nconst Loader = () => {\n  const convertingStatus = useSelector((state) => state.status.convertingStatus);\n\n  const [secLeft, setSecLeft] = useState(0);\n  const [startSec, setStartSec] = useState(0);\n\n  useEffect(() => {\n    setStartSec(+new Date());\n  }, []);\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setSecLeft(Math.round((+new Date() - startSec) / 1000));\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [startSec]);\n\n  return (\n    <div className=\"app__doing loading\">\n      {convertingStatus} ({secLeft} sec)\n    </div>\n  );\n};\n\nconst App = () => {\n  // const YMAccount = 85318249;\n\n  const [file, setFile] = useState(null);\n  const [fileImageBase64, setFileImageBase64] = useState(\"\");\n  const [fileVideoUrl, setFileVideoUrl] = useState(\"\");\n\n  const [form, setForm] = useState({\n    width: 1000,\n    height: 500,\n    duration: 5,\n  });\n\n  const isConverting = useSelector((state) => state.status.isConverting);\n\n  const currentStep = (() => {\n    switch (true) {\n      // Is the file not selected\n      case !file:\n        return {\n          number: 1,\n          icons: \"ðŸ¦„ðŸ¦„ðŸ¦„\",\n        };\n      // Is the file selected, but not converted\n      case !!file && !fileVideoUrl:\n        return {\n          number: 2,\n          icons: \"ðŸºðŸºðŸºðŸº\",\n        };\n      // Is the file selected and converted\n      case !!file && !!fileVideoUrl:\n        return {\n          number: 3,\n          icons: \"ðŸ¸ðŸ¸ðŸ¸ðŸ¸ðŸ¸\",\n        };\n      // other\n      default:\n        return {\n          number: 0,\n          icons: \"ðŸ˜¥ðŸ˜¥ðŸ˜¥\",\n        };\n    }\n  })();\n\n  const handleStateForm = (newForm) => {\n    setForm({ ...form, ...newForm });\n  };\n\n  const onCancel = () => {\n    setFileVideoUrl(null);\n  };\n\n  return (\n    <div className=\"app-wrapper\">\n      <div className=\"app\">\n        {/* title */}\n        <header className=\"app__header\">\n          <strong className=\"app__header-title\">FFMPEG {currentStep.icons}</strong>\n          <div className=\"app__header-description\">Image to video conversion</div>\n        </header>\n\n        {/* actions for file */}\n        {isConverting ? (\n          <Loader />\n        ) : (\n          <div className=\"app__actions-and-form\">\n            <Actions\n              file={file}\n              currentStepNumber={currentStep.number}\n              fileVideoUrl={fileVideoUrl}\n              form={form}\n              onCancel={onCancel}\n              onSetFile={setFile}\n              onSetFileVideoUrl={setFileVideoUrl}\n              onSetFileImageBase64={setFileImageBase64}\n            />\n\n            {currentStep.number === 2 && <Form form={form} onChange={handleStateForm} />}\n          </div>\n        )}\n\n        {/* content of file */}\n        {currentStep.number > 1 && (\n          <File file={file} fileImageBase64={fileImageBase64} fileVideoUrl={fileVideoUrl} />\n        )}\n\n        {/* empty space */}\n        <div style={{ height: currentStep.number > 1 ? \"20vh\" : \"30vh\" }} />\n      </div>\n\n      {/* <YMInitializer\n        accounts={[YMAccount]}\n        options={{ clickmap: true, trackLinks: true, accurateTrackBounce: true, webvisor: true }}\n      /> */}\n    </div>\n  );\n};\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport statusReducer from \"./status\";\n\nexport default configureStore({\n  reducer: {\n    status: statusReducer,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store/index\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}